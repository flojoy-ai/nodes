{
  "description": null,
  "parameters": [
    {
      "name": "measurement_id",
      "type": "str",
      "description": "The measurement id of the data to be uploaded to Flojoy Cloud."
    }
  ],
  "returns": [
    {
      "name": null,
      "type": "DataContainer",
      "description": "The input DataContainer will be returned as it is."
    }
  ],
  "code": "import os\nfrom flojoy import DataContainer, flojoy, get_env_var, node_preflight, FlojoyCloud\n\n\nFLOJOY_CLOUD_URI: str = os.environ.get(\"FLOJOY_CLOUD_URI\") or \"https://cloud.flojoy.ai\"\n\n\n@node_preflight\ndef preflight():\n    api_key = get_env_var(\"FLOJOY_CLOUD_KEY\")\n\n    if api_key is None:\n        raise KeyError(\n            \"Flojoy Cloud key is not found! You can set it under Settings -> Environment Variables.\"\n        )\n\n\n@flojoy\ndef FLOJOY_CLOUD_UPLOAD(\n    default: DataContainer,\n    measurement_id: str,\n) -> DataContainer:\n    \"\"\"The FLOJOY_CLOUD_UPLOAD node takes a DataContainer as input and uploads it to Flojoy Cloud.\n\n    Parameters\n    ----------\n    measurement_id : str\n        The measurement id of the data to be uploaded to Flojoy Cloud.\n\n    Returns\n    -------\n    DataContainer\n        The input DataContainer will be returned as it is.\n    \"\"\"\n\n    api_key = get_env_var(\"FLOJOY_CLOUD_KEY\")\n\n    if api_key is None:\n        raise KeyError(\n            \"Flojoy Cloud key is not found! You can set it under Settings -> Environment Variables.\"\n        )\n\n    if measurement_id is None or not measurement_id.startswith(\"meas_\"):\n        raise KeyError(\n            \"You must provide a valid measurement id in order to upload to Flojoy Cloud!\"\n        )\n\n    cloud = FlojoyCloud(api_key=api_key)\n\n    if default:\n        # This will stream the data to the cloud\n\n        cloud.store_dc(default, default.type, measurement_id)\n\n    return default\n"
}